<!DOCTYPE html>
<html lang="cs-cz" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no">
        <title>scrum-poker-online</title>
        <link rel="stylesheet" href="/css/screen.css" type="text/css" media="all">
    </head>
    <body id="welcome-screen">
        <div class="center">
            <h1>scrum-poker-online</h1>
            <br/>
            <form id="start-game">
                <label>
                    Name:
                    <input id="player-name" type="text" required />
                </label>
                <button>Play</button>
            </form>
        </div>
        <hr/>
        <div class="center">
            <button onclick="iAmTV()">i am tv</button>
        </div>
        <script>
            (function() {
                var playerName = document.querySelector("#player-name");
                var localStorageKey = "name";
                var localStorageValue = localStorage.getItem(localStorageKey);
                
                if (localStorageValue) { playerName.value = localStorageValue; }
                
                document.querySelector("#start-game").addEventListener("submit", function(e) {
                    e.preventDefault();
                    localStorage.setItem(localStorageKey, playerName.value.trim());
                    window.location.replace("http://" + window.location.host + "/game");
                });
            })();
            
            function iAmTV() {
                window.location.replace("http://" + window.location.host + "/tv");
            };
        </script>
    </body>
</html>
